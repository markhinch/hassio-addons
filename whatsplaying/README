# What's Playing Home Assistant Addon

For running the backend in Raspbian (ie: not as a Home Assistant Add-on), use this command to spin up the container:

`docker build --build-arg BUILD_FROM="python:3" -t whatsplaying_web .`

For running / testing the backend locally, run with:

`python -m http.server`

Please note you'll need a local `data/options.json` file (which is usually generated by the Addon on Home Assistant). This file looks like this:

```
{
	"mqtt_username": "",
	"mqtt_password": "",
	"mqtt_host": "homeassistant.local",
	"mqtt_port": 1884
}
```
---
For invoking the frontend on a Raspberry Pi kiosk at boot, create a file in the home directory named "kiosk.sh" (also `chmod +x` it) with the following:

```
#!/bin/bash
export DISPLAY=:0
firefox -kiosk -private-window http://homeassistant.local:777
```

Then edit ~/.config/lxsession/LXDE-pi/autostart and add the following:

`@/home/USERNAME/kiosk.sh`
